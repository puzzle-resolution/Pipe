<!doctype html>
<html lang="zh-Hans" class="nightmode">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <title>接水管 - 在线益智游戏</title>
        <meta name="description" content="在线游戏 益智游戏接水管"/>
        <meta name="keywords" content="接水管,益智,游戏,在线,Pipes,FreeNet,puzzle,game,online"/>
        <META NAME="ROBOTS" CONTENT="INDEX,FOLLOW"/>
        <link rel="canonical" href="https://cn.puzzle-pipes.com/"/>
        <link rel="alternate" href="https://www.puzzle-pipes.com/" hreflang="en"/>
        <link rel="alternate" href="https://bg.puzzle-pipes.com/" hreflang="bg"/>
        <link rel="alternate" href="https://de.puzzle-pipes.com/" hreflang="de"/>
        <link rel="alternate" href="https://es.puzzle-pipes.com/" hreflang="es"/>
        <link rel="alternate" href="https://ja.puzzle-pipes.com/" hreflang="ja"/>
        <link rel="alternate" href="https://fr.puzzle-pipes.com/" hreflang="fr"/>
        <link rel="alternate" href="https://it.puzzle-pipes.com/" hreflang="it"/>
        <link rel="alternate" href="https://cz.puzzle-pipes.com/" hreflang="cs"/>
        <link rel="alternate" href="https://tr.puzzle-pipes.com/" hreflang="tr"/>
        <link rel="alternate" href="https://nl.puzzle-pipes.com/" hreflang="nl"/>
        <meta name="twitter:card" content="summary_large_image"/>
        <meta property="og:title" content="接水管 - 在线益智游戏"/>
        <meta name="twitter:title" content="接水管 - 在线益智游戏"/>
        <meta name="twitter:text:title" content="接水管 - 在线益智游戏"/>
        <meta property="og:image" content="https://cn.puzzle-pipes.com/art/og/puzzle-pipes.png"/>
        <meta name="twitter:image" content="https://cn.puzzle-pipes.com/art/og/puzzle-pipes.png">
        <link rel="icon" href="/art/ico/puzzle-pipes.ico"/>
        <link rel="stylesheet" type="text/css" href="/build/css/new/pipes-f58582b7a1.css"/>
        <script language="javascript" src="/build/js/public/new/pipes-d694767223.js"></script>
    </head>
    <body class="
    expanded    norside            patron    " mvvm-class="lefthanded:Settings.get('global.left-handed')|colorblind:Settings.get('global.color-blind')">
        <script type="text/javascript">
            window.google_analytics_uacct = "UA-113709-30";
        </script>
        <div id="Side">
            <div class="content">
                <a href="/">
                    <h1>接水管</h1>
                </a>
                <p class="langBar">
                    <a href="//www.puzzle-pipes.com" title="Pipes - English（英语）" class="sprite sprite-en"></a>
                    <a href="//bg.puzzle-pipes.com" title="Тръби - Български（保加利亚语）" class="sprite sprite-bg"></a>
                    <a href="//de.puzzle-pipes.com" title="Pipes - Deutsch（德语）" class="sprite sprite-de"></a>
                    <a href="//es.puzzle-pipes.com" title="Tuberías - Español（西班牙语）" class="sprite sprite-es"></a>
                    <a href="//ja.puzzle-pipes.com" title=" パイプ - 日本語（日语）" class="sprite sprite-ja"></a>
                    <a href="//fr.puzzle-pipes.com" title="Pipes - Français（法语）" class="sprite sprite-fr"></a>
                    <a href="//it.puzzle-pipes.com" title="Tubi - Italiano（意大利语）" class="sprite sprite-it"></a>
                    <a href="//cz.puzzle-pipes.com" title="Trubky - Česky（捷克语）" class="sprite sprite-cz"></a>
                    <a href="//tr.puzzle-pipes.com" title="Borular - Türkçe（土耳其语）" class="sprite sprite-tr"></a>
                    <a href="//nl.puzzle-pipes.com" title="Pipes - Nederlands（荷兰语）" class="sprite sprite-nl"></a>
                    <br clear="all"/>
                    <a style="line-height:22px" href="/translate.php">翻译本站</a>
                    <br/>
                    <br clear="all"/>
                    Special thanks to <b>18111398</b>
                    for the translation        
                </p>
                <div style="clear:both"></div>
                <div id="rules" style="display:block">
                    <p>
                        <b>接水管</b>
                        （又名<b>FreeNet</b>
                        ）
是一款逻辑益智游戏。其规则简单，但解题过程具有挑战性。
                    </p>
                    <p>
                        你的目标是旋转方格，使所有水管都连接在一起形成一个单独的水管群。
            <br/>
                        <br/>鼠标点击方格，使其旋转（按住Ctrl键点击可使其逆向旋转）。鼠标右键点击方格可锁定其方位。
        
                    </p>
                    <div style="float:right">
                        <a class="red" href="#" onclick="return switchRules(0)">隐藏规则</a>
                    </div>
                    <div style="clear:both"></div>
                </div>
                <div id="norules" style="display:none">
                    <a class="red" href="#" onclick="return switchRules(1)">显示规则</a>
                </div>
                <ul id="menuSizes">
                    <li>
                        <a class="on" href="/">4x4 接水管</a>
                    </li>
                    <li>
                        <a class="" href="/?size=10">4x4 接水管 （跨边）</a>
                    </li>
                    <li>
                        <a class="" href="/?size=1">5x5 接水管</a>
                    </li>
                    <li>
                        <a class="" href="/?size=11">5x5 接水管 （跨边）</a>
                    </li>
                    <li>
                        <a class="" href="/?size=2">7x7 接水管</a>
                    </li>
                    <li>
                        <a class="" href="/?size=12">7x7 接水管 （跨边）</a>
                    </li>
                    <li>
                        <a class="" href="/?size=3">10x10 接水管</a>
                    </li>
                    <li>
                        <a class="" href="/?size=13">10x10 接水管 （跨边）</a>
                    </li>
                    <li>
                        <a class="" href="/?size=4">15x15 接水管</a>
                    </li>
                    <li>
                        <a class="" href="/?size=14">15x15 接水管 （跨边）</a>
                    </li>
                    <li>
                        <a class="" href="/?size=5">20x20 接水管</a>
                    </li>
                    <li>
                        <a class="" href="/?size=15">20x20 接水管 （跨边）</a>
                    </li>
                    <li>
                        <a class="" href="/?size=6">25x25 接水管</a>
                    </li>
                    <li>
                        <a class="" href="/?size=16">25x25 接水管 （跨边）</a>
                    </li>
                    <li mvvm-class="icon-ok:User.achievements['pipes']['daily'].ref_id==89">
                        <a class="" href="/?size=7">每日谜题 接水管</a>
                    </li>
                    <li mvvm-class="icon-ok:User.achievements['pipes']['daily-wrap'].ref_id==89">
                        <a class="" href="/?size=17">每日谜题 接水管 （跨边）</a>
                    </li>
                    <li mvvm-class="icon-ok:User.achievements['pipes']['weekly'].ref_id==13">
                        <a class="" href="/?size=8">每周谜题 接水管</a>
                    </li>
                    <li mvvm-class="icon-ok:User.achievements['pipes']['weekly-wrap'].ref_id==13">
                        <a class="" href="/?size=18">每周谜题 接水管 （跨边）</a>
                    </li>
                    <li mvvm-class="icon-ok:User.achievements['pipes']['monthly'].ref_id==3">
                        <a class="" href="/?size=9">每月谜题 接水管</a>
                    </li>
                    <li mvvm-class="icon-ok:User.achievements['pipes']['monthly-wrap'].ref_id==3">
                        <a class="" href="/?size=19">每月谜题 接水管 （跨边）</a>
                    </li>
                </ul>
                <div id="menuAdditional">
                    <p align="center">
                        <a href="/feedback.php">反馈</a>
                        |
                <a href="/specfic.php">指定谜题</a>
                        |
                <a href="/faq.php">常见问题</a>
                    </p>
                    <p align="center">
                        <a href="/print.php">批量打印</a>
                        |
                            <a href="/hall.php?hallsize=0">荣誉堂</a>
                    </p>
                    <p align="center">
                        <a href="/privacy-policy.php">Privacy Policy</a>
                    </p>
                    <br/>
                </div>
                <div class="clear"></div>
                <div id="twitterFeed">
                    <a class="twitter-timeline" data-theme="dark" data-link-color="#36c" data-tweet-limit="2" data-chrome="noheader nofooter" href="https://twitter.com/PuzzleTeamClub?ref_src=twsrc%5Etfw">Tweets by PuzzleTeamClub</a>
                    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                </div>
                <p align="center">
                    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fcn.puzzle-pipes.com" target="_blank" class="icon icon-facebook shareLinkFB">分享</a>
                </p>
            </div>
            <div id="SocialMenu">
                <a mvvm-show="!User.logged" class="btn" id="menu-button-user" href="/partials/form.login.php" data-featherlight="ajax" style="display:none">
                    <i class="icon icon-user"></i>
                </a>
                <a mvvm-show="User.logged" class="btn" id="user-logged-badge" href="https://www.puzzles-mobile.com/profile" onclick="User.loadFromAjax(1)" data-featherlight="ajax" style="display:block">
                    <i id="user-cert" class="icon icon-certificate"></i>
                    <span mvvm-text="User.level" class="number"></span>
                    <span class="progress-holder">
                        <span class="progress"></span>
                    </span>
                </a>
                <a class="btn r f" href="https://www.facebook.com/PuzzleTeamClub/" target="_blank" title="Facebook Club">
                    <i class="icon icon-facebook"></i>
                </a>
                <a class="btn r t" href="https://twitter.com/PuzzleTeamClub" target="_blank" title="Twitter Channel">
                    <i class="icon icon-twitter"></i>
                </a>
                <a class="btn r" href="https://www.youtube.com/channel/UCiU0kY99jtY-iQpzulYk8JQ" target="_blank" title="YouTube Channel">
                    <i class="icon icon-youtube-play"></i>
                </a>
            </div>
            <div class="clear"></div>
            <div id="SideClose" class="noprint" onclick="switchSide(0)"></div>
            <div id="SideOpen" class="noprint" onclick="switchSide(1)"></div>
        </div>
        <div id="MainContainer">
            <div id="pageContent">
                <a href="/" id="logoLink">
                    <img src="/images/pipes-logo.png" width="97" height="40" border="0" alt="接水管"/>
                </a>
                <div class="onlyprint">
                    <p></p>
                </div>
                <div>
                    <div id="ajaxResponse"></div>
                    <form method="post" action="/" name="answerForm" id="puzzleForm" onsubmit="Game.saveState();Game.tickTimer();this.jstimerPersonal.value = Game.getTimer();this.ansH.value=Game.serializeSolution()">
                        <input type="hidden" name="jstimer" value="0"/>
                        <input type="hidden" name="jsPersonalTimer" value=""/>
                        <input type="hidden" name="jstimerPersonal" value=""/>
                        <input type="hidden" name="stopClock" value="0"/>
                        <input type="hidden" name="robot" id="robot" value="" data-info="Attention!!!
If you are reading this you most likely have created an awsome automatic solver.
I have created a special ROBOTS hall of fame. It is not fun to compete against those slow HUMANS :)
Set the value of this field to 1
"/>
                        <div class="noprint new" id="topControls">
                            <p>
                            <div id="zoomHolder">
                                <button title="缩放" id="btnZoom" type="button" class="button" onclick="toggleZoomSlider()">
                                    <i class="icon-zoom-in-3"></i>
                                </button>
                                <div id="zoomSlider">
                                    <input id="btnResetZoom" type="button" value="100%" class="button" onclick="this.form.zoomslider.value=1;setZoom(1)"/>
                                    <input id="zoomslider" name="zoomslider" ondblclick="this.value=1;setZoom(1)" type="range" min="0.15" max="3" step="0.05" oninput="setZoom(this.value)" onchange="setZoom(this.value)"/>
                                </div>
                            </div>
                            <button title="设置" id="btnSettings" type="button" class="button" onclick="$('.footer-buttons').toggleClass('hidden')">
                                <i class="icon-cog"></i>
                            </button>
                            <input mvvm-css="visibility:Settings.get('global.hide-timer')?'hidden':'visible'|display:Settings.get('global.non-competitive-timer')?'none':'inline-block'" class="clock" readonly type="text" name="jstimerShow" value=""/>
                            <span id="noncomph" mvvm-css="visibility:Settings.get('global.hide-timer')?'hidden':'visible'|display:Settings.get('global.non-competitive-timer')&&!(0)?'inline-block':'none'">
                                <button title="Pause" id="btnPause" type="button" class="button" onclick="Game.pauseTimer(true)">
                                    <i class="icon-pause"></i>
                                </button>
                                <button title="Resume" id="btnResume" type="button" class="button" onclick="Game.resumeTimer(true)">
                                    <i class="icon-play"></i>
                                </button>
                                <input class="clock" readonly type="text" name="jstimerShowPersonal" value=""/>
                            </span>
                            <button title="撤销 [Ctrl+Z]" id="btnUndo" type="button" class="button" onclick="Game.undo()">
                                <i class="icon-reply"></i>
                            </button>
                            <button title="重做 [Ctrl+Y]" id="btnRedo" type="button" class="button" onclick="Game.redo()">
                                <i class="icon-forward"></i>
                            </button>
</p></div>
<div class="footer-buttons noprint hidden">
    <div class="footer-buttons-holder" mvvm-class="pinned:Settings.get('global.pin-toolbar')">
        <a class="btn" onclick="Settings.set('pipes.draw-style', 'rotate')" title="旋转" mvvm-class="on:Settings.get('pipes.draw-style') == 'rotate'">
            <i class="icon icon-arrows-cw"></i>
        </a>
        <a class="btn" onclick="Settings.set('pipes.draw-style', 'pin')" title="锁定方格" mvvm-class="on:Settings.get('pipes.draw-style') == 'pin'">
            <i class="icon icon-pin"></i>
        </a>
    </div>
    <div class="options clear">
        <div>
            <label for="pin-toolbar">
                <input type="checkbox" id="pin-toolbar" mvvm-checked="Settings.get('global.pin-toolbar')" onclick="Settings.set('global.pin-toolbar', this.checked);settingsApply();"/>始终显示工具栏 
            </label>
        </div>
        <div>
            <label for="show-checkpoints">
                <input type="checkbox" id="show-checkpoints" mvvm-checked="Settings.get('global.show-checkpoints')" onclick="Settings.set('global.show-checkpoints', this.checked);settingsApply();"/>Show checkpoints 
            </label>
        </div>
        <div>
            <label for="hide-timer">
                <input type="checkbox" id="hide-timer" mvvm-checked="Settings.get('global.hide-timer')" onclick="Settings.set('global.hide-timer', this.checked);settingsApply();"/>隐藏计时器 
            </label>
        </div>
        <div style="margin-left: 20px" mvvm-show="!Settings.get('global.hide-timer')">
            <label for="non-competitive-timer">
                <input type="checkbox" id="non-competitive-timer" mvvm-checked="Settings.get('global.non-competitive-timer')" onclick="Settings.set('global.non-competitive-timer', this.checked);settingsApply();"/>非竞争性个人计时器（可暂停） 
            </label>
        </div>
        <div>
            <label for="night-mode">
                <input type="checkbox" id="night-mode" onclick="switchNightMode(this.checked);" checked="checked"/>夜晚模式 
            </label>
        </div>
        <div>
            <label for="highlight-change">
                <input type="checkbox" id="highlight-change" mvvm-checked="Settings.get('pipes.highlight-change')" onclick="Settings.set('pipes.highlight-change', this.checked);settingsApply();"/>标出上一次操作 
            </label>
        </div>
        <div>
            <label for="highlight-errors">
                <input type="checkbox" id="highlight-errors" mvvm-checked="Settings.get('pipes.highlight-errors')" onclick="Settings.set('pipes.highlight-errors', this.checked);settingsApply();"/>标出错误 
            </label>
        </div>
        <div>
            <label for="animate">
                <input type="checkbox" id="animate" mvvm-checked="Settings.get('pipes.animate')" onclick="Settings.set('pipes.animate', this.checked);settingsApply();"/>Animate rotation 
            </label>
        </div>
        <div>
            <label for="invert-rotation">
                <input type="checkbox" id="invert-rotation" mvvm-checked="Settings.get('pipes.invert-rotation')" onclick="Settings.set('pipes.invert-rotation', this.checked);settingsApply();"/>颠倒旋转方向 
            </label>
        </div>
        <div>
            <label for="long-press-pin">
                <input type="checkbox" id="long-press-pin" mvvm-checked="Settings.get('pipes.long-press-pin')" onclick="Settings.set('pipes.long-press-pin', this.checked);settingsApply();"/>Long press for pin 
            </label>
        </div>
        <div>
            <label for="ctrl-pin">
                <input type="checkbox" id="ctrl-pin" mvvm-checked="Settings.get('pipes.ctrl-pin')" onclick="Settings.set('pipes.ctrl-pin', this.checked);settingsApply();"/>用Ctrl锁定方格 
            </label>
        </div>
        <div>
            <label for="visualize-flood">
                <input type="checkbox" id="visualize-flood" mvvm-checked="Settings.get('pipes.visualize-flood')" onclick="Settings.set('pipes.visualize-flood', this.checked);settingsApply();"/>显示水流（大题目下开启会变慢） 
            </label>
        </div>
        <div>
            <label for="flood-current-cell">
                <input type="checkbox" id="flood-current-cell" mvvm-checked="Settings.get('pipes.flood-current-cell')" onclick="Settings.set('pipes.flood-current-cell', this.checked);settingsApply();"/>Flood from current cell 
            </label>
        </div>
        <div>
            <label for="rotate-board">
                <input type="checkbox" id="rotate-board" mvvm-checked="Settings.get('pipes.rotate-board')" onclick="Settings.set('pipes.rotate-board', this.checked);settingsApply();"/>旋转题板 
            </label>
        </div>
    </div>
</div>
<div id="puzzleContainerRalativeDiv">
    <div id="puzzleContainerOverflowDiv">
        <div id="puzzleContainerDiv">
            <table id="puzzleContainer" cellpadding="0" cellspacing="0" align="center">
                <tr>
                    <td class="brd">
                        <div id="rel">
                            <div id="scene">
                                <div id="stage1" class="icon-pause" onclick="Game.resumeTimer(1)" mvvm-class="animate:Settings.get('pipes.animate')">
                                    <div style="position:relative;" id="game">
                                        <i class="icon-spin5 icon-spin"></i>
                                    </div>
                                </div>
                            </div>
                            <script type="text/javascript">
                                var Game = {};
                                var Puzzle = {};
                                var task = '2d31897e41e2c578';
                                $(document).ready(function() {
                                    Game = $('#game').pipes({
                                        ident: 'pipes.0',
                                        task: task,
                                        token: document.forms['answerForm'].param.value,
                                        puzzleID: $('#puzzleID').text(),
                                        puzzleWidth: 4,
                                        puzzleHeight: 4,
                                        localTimer: new Date().getTime(),
                                        relativeTo: '#puzzleContainerOverflowDiv',
                                        noCheck: true,
                                        wrap: 0,
                                        onLoaded: function() {
                                            updateCheckpoints();
                                        }
                                    }).initGame();
                                    $(window).on('scroll', function() {});
                                    Game.panzoomAction = function() {
                                        this.zoomingPanning = true;
                                        this.repositionHelpers();
                                    }
                                    ;
                                    var savedState;
                                    if (savedState = Game.getSaved()) {
                                        if (!savedState.savedState.solved || 0 || 0) {
                                            Game.loadGame(savedState);
                                            document.forms['answerForm'].param.value = Game.getSetting('token');
                                            if (Game.getSetting('puzzleID'))
                                                $('#puzzleID').text(Game.getSetting('puzzleID'));
                                            startTime = Game.getSetting('localTimer');
                                        } else {
                                            Game.resetTimer();
                                        }
                                    } else {
                                        Game.resetTimer();
                                    }
                                    Game.plSize = 0;
                                    Game.initEventHandlers();
                                    $('#stage').on('mousedown touchstart', function(e) {
                                        e.preventDefault();
                                    }).contextmenu(function() {
                                        return false;
                                    });
                                    $('body').addClass('ingame');
                                    var scale = Settings.get(Game.getSaveIdent() + '.saved-zoom');
                                    if (!scale)
                                        scale = 1;
                                    $('#zoomslider').val(scale).change();
                                    setZoom(scale);
                                    Layout.init();
                                });
                            </script>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>
<div class="noprint" id="checkpointsHolder" mvvm-show="Settings.get('global.show-checkpoints')">
    <button title="Save checkpoint [Ctrl+S]" id="btnSave" type="button" class="button" onclick="Game.saveCheckpoint();updateCheckpoints();">
        <i class="icon-floppy"></i>
    </button>
    <span class="checkpoints">&nbsp;</span>
</div>
<div class="noprint" id="additionalGameOptions"></div>
<div class="puzzleInfo">
    <p>
        4x4 接水管 题号: <span id="puzzleID">392,163</span>
    </p>
</div>
<div class="noprint puzzleButtons">
    <input type="hidden" name="b" value="1"/>
    <input type="hidden" name="size" value="0"/>
    <input type="hidden" name="param" value="Ty4+OUdOfmVWTW5sIDEhSlE1XXttUVA/ZXF1RURqWHRebEZrTnBlV0kmNCgtU2g8VCRqQ14gXyFGYWBWUXUva1NofFtOWjUtR0JNXjA5NHcrc2p+RFQ2dCA2OE1lS3cyZzYmO1t5UmNDdjB+U0U7dDdXM2EkbGZqOykrIV51L3s9RzMrfEpJSn49WF55TXpaYXN2cyk/bXFgVmFqIXZUU1M2S2BTeEExenRRMHoqXW1NRS5+XiRMdTIkYygsX1Zm"/>
    <input type="hidden" name="w" value="4"/>
    <input type="hidden" name="h" value="4"/>
    <input type="hidden" name="ansH" value=""/>
    <input class="button" type="submit" name="ready" id="btnReady" value="   完成   " title="完成 [Enter]"/>
    <input class="button" type="submit" name="startover" id="btnStartOver" value="   重来   " onclick="return confirm('您确认吗？')"/>
    <input class="button" type="button" onclick="window.print()" id="btnPrint" value=" 打印... " title=" 打印 [Ctrl+P] "/>
    <button class="button" id="btnShare">
        分享                        <i class="icon icon-facebook"></i>
        <i class="icon icon-twitter"></i>
    </button>
    <input class="button" type="submit" name="new" id="btnNew" value="   新题目   "/>
    <br/>
    <input class="button" type="submit" name="giveUp" id="btnGiveUp" value="   放弃   " onclick="return confirm('您确认吗？')"/>
    <div id="shareContainer">
        <div id="shareContainerLoader">
            <i class="icon-spin5 icon-spin"></i>
        </div>
        <div id="shareContainerElements">
            <input type="hidden" id="shareLinkText" value="Help Me! I'm Stuck."/>
            <a href="" target="_blank" class="icon icon-facebook shareLinkFB" id="shareLinkFB">分享</a>
            <a href="" target="_blank" class="icon icon-twitter shareLinkTW" id="shareLinkTW">分享</a>
            <br/>
            <div id="shareLinkInputContainer">
                Progress Permalink:
                    <input type="text" id="shareLinkInput" onclick="this.setSelectionRange(0, this.value.length)"/>
                Progress Screenshot:
                    <input type="text" id="shareImgInput" onclick="this.setSelectionRange(0, this.value.length)"/>
                Embed URL:
                        <input type="text" id="shareEmbedURLInput" onclick="this.setSelectionRange(0, this.value.length)"/>
                Embed Code:
                        <input type="text" id="shareEmbedInput" onclick="this.setSelectionRange(0, this.value.length)"/>
            </div>
        </div>
        <a id="shareContainerClose" onclick="$('#shareContainer').hide()">
            <i class="icon icon-cancel"></i>
        </a>
    </div>
    <p>
        <a href="/faq.php" class="red">
            <b>怎么玩？</b>
        </a>
    </p>
    <br/>
</div>
<div class="clear"></div>
</form><script type="text/javascript">
    $(document).on('keydown', function(e) {
        if (e.which == 13) {
            e.preventDefault();
            jQuery('#btnReady').focus().click();
        }
        if (e.which == 83 && e.ctrlKey) {
            Game.saveCheckpoint();
            updateCheckpoints();
            e.preventDefault();
        }
    });
    $(document).ready(function() {
        $("#puzzleContainerOverflowDiv").on('scroll', function() {
            if (Game.inputMode != 'keyboard') {
                Game.cancelMove();
                if (Game.comboHelperTimeout)
                    window.clearTimeout(Game.comboHelperTimeout);
            }
        });
        $(document).on('scroll', function() {
            if (Game.inputMode != 'keyboard') {
                Game.cancelMove();
                if (Game.comboHelperTimeout)
                    window.clearTimeout(Game.comboHelperTimeout);
            }
        });
    });

    $('#btnUndo, #btnRedo').bind('touchend', function(e) {
        e.preventDefault();

        $(this).click();
    });

    if (window.history.replaceState) {
        window.history.replaceState(null, null, window.location.href);
    }
    $("#btnReady").click(function(e) {
        e.preventDefault();
        if ($(window).scrollTop() > $("#logoLink").offset().top - 40)
            $([document.documentElement, document.body]).animate({
                scrollTop: $("#logoLink").offset().top - 40
            }, 100);

        $("#ajaxResponse").html('<i class="icon-spin5 icon-spin"></i>');
        Game.saveState();
        Game.tickTimer();
        document.forms['answerForm'].jstimerPersonal.value = Game.getTimer();
        document.forms['answerForm'].ansH.value = Game.serializeSolution()

        $.post("", $("#puzzleForm").serialize() + "&ready=1&checkAjax=1").done(function(data) {
            $("#ajaxResponse").html(data);
        }).fail(function(data) {
            console.log(data);
        }).always(function() {// $('button .animate-spin').hide();
        });
    });

    function updateCheckpoints() {
        $('#checkpointsHolder .checkpoints').html('&nbsp;');
        if (!Game.checkpoints || !Game.checkpoints.length)
            return;
        for (var i = 0; i < Game.checkpoints.length; i++) {
            var checkpoint = $('<div class="checkpoint" onclick="Game.loadCheckpoint(' + i + ');updateCheckpoints();">' + (i + 1) + '<div class="close icon-cancel" onclick="if (confirm(\'您确认吗？\')) {Game.removeCheckpoint(' + i + ');updateCheckpoints();}event.stopPropagation()"></div></div>');
            $('#checkpointsHolder .checkpoints').append(checkpoint);

        }
    }
</script>
<p class="noprint clear" id="moreGamesBnr">
    <b>更多解谜游戏：</b>
    <br/>
    <br/>
    <a class="banner pipes  beta" href="//cn.puzzle-pipes.com/" title="接水管">
        <span>接水管</span>
    </a>
    <a class="banner hitori  new" href="//cn.puzzle-hitori.com/" title="数壹">
        <span>数壹</span>
    </a>
    <a class="banner heyawake " href="//cn.puzzle-heyawake.com/" title="数间">
        <span>数间</span>
    </a>
    <a class="banner shingoki " href="//cn.puzzle-shingoki.com/" title="信号旗">
        <span>信号旗</span>
    </a>
    <a class="banner masyu " href="//cn.puzzle-masyu.com/" title="魔手">
        <span>魔手</span>
    </a>
    <a class="banner stitches " href="//cn.puzzle-stitches.com/" title="缝线">
        <span>缝线</span>
    </a>
    <a class="banner aquarium " href="//cn.puzzle-aquarium.com/" title="水箱">
        <span>水箱</span>
    </a>
    <a class="banner tapa " href="//cn.puzzle-tapa.com/" title="数墙·改">
        <span>数墙·改</span>
    </a>
    <a class="banner star-battle " href="//cn.puzzle-star-battle.com/" title="星之战">
        <span>星之战</span>
    </a>
    <a class="banner kakurasu " href="//cn.puzzle-kakurasu.com/" title="方阵和">
        <span>方阵和</span>
    </a>
    <a class="banner skyscrapers " href="//cn.puzzle-skyscrapers.com/" title="高楼">
        <span>高楼</span>
    </a>
    <a class="banner futoshiki " href="//cn.puzzle-futoshiki.com/" title="不等式/连续">
        <span>不等式/连续</span>
    </a>
    <a class="banner words " href="//cn.puzzle-words.com/" title="找单词">
        <span>找单词</span>
    </a>
    <a class="banner shakashaka " href="//cn.puzzle-shakashaka.com/" title="留方">
        <span>留方</span>
    </a>
    <a class="banner kakuro " href="//cn.puzzle-kakuro.com/" title="数和">
        <span>数和</span>
    </a>
    <a class="banner jigsaw-sudoku " href="//cn.puzzle-jigsaw-sudoku.com/" title="异形数独">
        <span>异形数独</span>
    </a>
    <a class="banner killer-sudoku " href="//cn.puzzle-killer-sudoku.com/" title="杀手数独">
        <span>杀手数独</span>
    </a>
    <a class="banner binairo " href="//cn.puzzle-binairo.com/" title="黑白">
        <span>黑白</span>
    </a>
    <a class="banner nonograms " href="//cn.puzzle-nonograms.com/" title="数织">
        <span>数织</span>
    </a>
    <a class="banner loop " href="//cn.puzzle-loop.com/" title="数回（数圈、栅栏）">
        <span>数回（数圈、栅栏）</span>
    </a>
    <a class="banner sudoku " href="//cn.puzzle-sudoku.com/" title="数独">
        <span>数独</span>
    </a>
    <a class="banner light-up " href="//cn.puzzle-light-up.com/" title="点灯">
        <span>点灯</span>
    </a>
    <a class="banner bridges " href="//cn.puzzle-bridges.com/" title="搭桥">
        <span>搭桥</span>
    </a>
    <a class="banner shikaku " href="//cn.puzzle-shikaku.com/" title="数方">
        <span>数方</span>
    </a>
    <a class="banner nurikabe " href="//cn.puzzle-nurikabe.com/" title="数墙">
        <span>数墙</span>
    </a>
    <a class="banner dominosa " href="//cn.puzzle-dominosa.com/" title="数邻">
        <span>数邻</span>
    </a>
</p>
</div><div class="onlyprint sitehost">cn.puzzle-pipes.com</div>
<div class="noprint">
    <noscript>您需要开启浏览器的JavaScript功能才能在线游戏。您也可以将谜题打印出来。            </noscript>
</div>
</div></div><script type="text/javascript">
    init();
</script>
<script type="text/javascript">
    pbjs.initAdserverSet = true;

    googletag.cmd.push(function() {
        googletag.display('bannerTop');
    });
    googletag.cmd.push(function() {
        googletag.display('bannerSide');
    });

    var mobile_host = 'www.puzzles-mobile.com';
    User.loadFromStorage();
    if (readCookie('fe') == null) {
        User.loadFromAjax();
        createCookie('fe', 1, 1);
    }
</script>
<script language="javascript" src="/js/ads.js"></script>
<script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }
        ,
        i[r].l = 1 * new Date();
        a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    }
    )(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    var dimensionValue = 'variant1';
    ga('create', 'UA-113709-30', 'auto');
    ga('set', 'dimension1', dimensionValue);
    ga('set', 'dimension2', typeof adsAllowed == 'undefined' ? 'blocked' : 'allowed');
    ga('send', 'pageview');
    ga('create', 'UA-113709-12', 'auto', 'globalTracker');
    ga('globalTracker.set', 'dimension1', dimensionValue);
    ga('globalTracker.set', 'dimension2', typeof adsAllowed == 'undefined' ? 'blocked' : 'allowed');
    ga('globalTracker.send', 'pageview');
</script>
</body></html>
